# 設計: PR作成時の自動ラベル付与機能

## 実装方針

### 1. pr-creationスキルの拡張

現在のpr-creationスキルに以下の機能を追加:

1. **コミット履歴の解析**
   - `git log`でコミットメッセージを取得
   - プレフィックスを抽出して集計
   - 最も多いプレフィックスを主要なPRタイプとして判定

2. **ラベルマッピングロジック**
   ```javascript
   const labelMapping = {
     'feat': 'enhancement',
     'fix': 'bug',
     'docs': 'documentation',
     'refactor': 'refactor',
     'test': 'test',
     'chore': 'chore'
   };
   ```

3. **GitHub APIでのラベル付与**
   - PR作成成功後、PR番号を取得
   - ラベルの存在確認
   - 存在しないラベルは作成（可能な場合）またはスキップ
   - `gh pr edit`コマンドでラベルを追加

### 2. エラーハンドリング

- **ラベルが存在しない場合**
  - 警告メッセージを表示
  - PR作成は続行（ラベルなしで）
  - 作成可能な権限があれば新規作成を試行

- **複数のプレフィックスが混在する場合**
  - 最も多いプレフィックスを採用
  - 同数の場合は優先順位: fix > feat > docs > refactor > test > chore

### 3. 実装順序

1. README.mdにラベル機能の説明を追加
2. プレフィックス解析関数の実装
3. ラベル付与処理の実装
4. エラーハンドリングの追加

### 4. テスト戦略

- 実際のPR作成フローでテスト
- 各プレフィックスに対するラベル付与の確認
- エラーケースの動作確認

## 技術的考慮事項

- GitHub CLIの`gh pr edit --add-label`を使用
- ラベルの存在確認は`gh label list`を使用
- PR作成とラベル付与は別トランザクション（PR作成失敗時にラベル付与を行わない）